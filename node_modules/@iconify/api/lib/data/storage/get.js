import { loadStoredItem } from './load.js';
/**
 * Get storage data when ready
 */
export function getStoredItem(storage, storedItem, callback) {
    if (storedItem.data) {
        // Data is already available: run callback
        storedItem.lastUsed = Date.now();
        callback(storedItem.data);
        return;
    }
    // Add callback to queue
    storedItem.callbacks.push(callback);
    // Load storage
    loadStoredItem(storage, storedItem);
}
