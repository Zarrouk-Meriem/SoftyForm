// Status
let loading = true;
const queue = [];
/**
 * Loaded: run queue
 */
export function loaded() {
    loading = false;
    // Run queue
    let callback;
    while ((callback = queue.shift())) {
        try {
            callback();
        }
        catch (err) {
            console.error(err);
        }
    }
}
/**
 * Get state
 */
export function isLoading() {
    return loading;
}
/**
 * Run when app is ready
 */
export function runWhenLoaded(callback) {
    if (!loading) {
        callback();
    }
    else {
        queue.push(callback);
    }
}
