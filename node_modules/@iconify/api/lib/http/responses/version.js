import { readFile } from 'node:fs/promises';
import { appConfig } from '../../config/app.js';
let version;
/**
 * Get version
 */
export async function initVersionResponse() {
    try {
        const packageContent = JSON.parse(await readFile('package.json', 'utf8'));
        if (typeof packageContent.version === 'string') {
            version = packageContent.version;
        }
    }
    catch { }
}
/**
 * Send response
 */
export function versionResponse(query, res) {
    res.send('Iconify API' +
        (version ? ' version ' + version : '') +
        (appConfig.statusRegion ? ' (' + appConfig.statusRegion + ')' : ''));
}
